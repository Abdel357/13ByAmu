{"ast":null,"code":"import { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/evaluation.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/connection.service\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../navbar/navbar.component\";\nexport class EvaluationComponent {\n  constructor(evaluationService, router, route, connectionService, toastr) {\n    this.evaluationService = evaluationService;\n    this.router = router;\n    this.route = route;\n    this.connectionService = connectionService;\n    this.toastr = toastr;\n    this.evaluationForm = new FormGroup({\n      stars: new FormControl(\"\", Validators.required),\n      message: new FormControl(\"\", Validators.required),\n      idTerrain: new FormControl(\"\", Validators.required)\n    });\n  }\n  ngOnInit() {\n    this.connectionService.isUserLoggedIn$.subscribe(loggedIn => this.isLoggedIn = loggedIn);\n    if (this.isLoggedIn == false) {\n      this.router.navigate([\"/log\"]);\n    }\n    this.route.paramMap.subscribe(params => {\n      const idTerrain = params.get(\"idTerrain\");\n      this.evaluationForm.patchValue({\n        idTerrain\n      });\n    });\n  }\n  submit() {\n    const value = this.evaluationForm.value;\n    this.evaluationService.evaluate(value).subscribe(res => {\n      if (res.success) {\n        this.router.navigate([res.redirectUrl]);\n        this.toastr.success(\"Merci d'avoir partagé votre évaluation\", \"Succès\");\n      }\n    });\n  }\n}\nEvaluationComponent.ɵfac = function EvaluationComponent_Factory(t) {\n  return new (t || EvaluationComponent)(i0.ɵɵdirectiveInject(i1.EvaluationService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.ConnectionService), i0.ɵɵdirectiveInject(i4.ToastrService));\n};\nEvaluationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EvaluationComponent,\n  selectors: [[\"app-evaluation\"]],\n  decls: 32,\n  vars: 1,\n  consts: [[1, \"evaluation-container\"], [1, \"evaluation-card\"], [1, \"form-container\"], [3, \"formGroup\", \"submit\"], [\"for\", \"stars\"], [\"id\", \"stars\", \"name\", \"stars\", \"formControlName\", \"stars\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [\"for\", \"message\"], [\"type\", \"text\", \"id\", \"message\", \"name\", \"message\", \"formControlName\", \"message\"], [\"type\", \"submit\"]],\n  template: function EvaluationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-navbar\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"h2\");\n      i0.ɵɵtext(5, \"Evaluer le terrain :\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"br\")(7, \"br\");\n      i0.ɵɵelementStart(8, \"form\", 3);\n      i0.ɵɵlistener(\"submit\", function EvaluationComponent_Template_form_submit_8_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelementStart(9, \"div\")(10, \"label\", 4);\n      i0.ɵɵtext(11, \"Nombre d'\\u00E9toiles\\u00A0:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"select\", 5)(13, \"option\", 6);\n      i0.ɵɵtext(14, \"1 \\u00E9toile\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"option\", 7);\n      i0.ɵɵtext(16, \"2 \\u00E9toiles\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"option\", 8);\n      i0.ɵɵtext(18, \"3 \\u00E9toiles\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"option\", 9);\n      i0.ɵɵtext(20, \"4 \\u00E9toiles\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"option\", 10);\n      i0.ɵɵtext(22, \"5 \\u00E9toiles\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(23, \"br\");\n      i0.ɵɵelementStart(24, \"div\")(25, \"label\", 11);\n      i0.ɵɵtext(26, \"Avis :\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"textarea\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"br\")(29, \"br\");\n      i0.ɵɵelementStart(30, \"button\", 13);\n      i0.ɵɵtext(31, \"Submit\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"formGroup\", ctx.evaluationForm);\n    }\n  },\n  dependencies: [i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i6.NavbarComponent],\n  styles: [\".form-container[_ngcontent-%COMP%] {\\r\\n  max-width: 400px;\\r\\n  margin: 0 auto;\\r\\n  padding: 20px;\\r\\n}\\r\\n\\r\\n.form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  padding: 10px;\\r\\n  margin-bottom: 10px;\\r\\n  border: 1px solid #ccc;\\r\\n  border-radius: 4px;\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n  background-color: #00cccc;\\r\\n  color: white;\\r\\n  padding: 10px 20px;\\r\\n  border: none;\\r\\n  border-radius: 4px;\\r\\n  cursor: pointer;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.evaluation-container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  height: 100vh;\\r\\n}\\r\\n\\r\\n.evaluation-card[_ngcontent-%COMP%] {\\r\\n  background: #00cccc;\\r\\n  background: linear-gradient(to right, #97eaea, #d5f6f6);\\r\\n  background-repeat: no-repeat;\\r\\n  background-size: cover;\\r\\n  background-position: 0 0;\\r\\n  width: 400px;\\r\\n  padding: 20px;\\r\\n  border-radius: 10px;\\r\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ldmFsdWF0aW9uL2V2YWx1YXRpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsYUFBYTtBQUNmOztBQUVBOzs7RUFHRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixzQkFBc0I7RUFDdEIsa0JBQWtCO0VBQ2xCLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLGFBQWE7QUFDZjs7QUFFQTtFQUNFLG1CQUFtQjtFQUVuQix1REFBdUQ7RUFDdkQsNEJBQTRCO0VBQzVCLHNCQUFzQjtFQUN0Qix3QkFBd0I7RUFDeEIsWUFBWTtFQUNaLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUNBQXVDO0FBQ3pDIiwic291cmNlc0NvbnRlbnQiOlsiLmZvcm0tY29udGFpbmVyIHtcclxuICBtYXgtd2lkdGg6IDQwMHB4O1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbn1cclxuXHJcbi5mb3JtLWNvbnRhaW5lciBzZWxlY3QsXHJcbi5mb3JtLWNvbnRhaW5lciBpbnB1dFt0eXBlPVwidGV4dFwiXSxcclxuLmZvcm0tY29udGFpbmVyIHRleHRhcmVhIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxufVxyXG5cclxuLmZvcm0tY29udGFpbmVyIGJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwY2NjYztcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uZXZhbHVhdGlvbi1jb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBoZWlnaHQ6IDEwMHZoO1xyXG59XHJcblxyXG4uZXZhbHVhdGlvbi1jYXJkIHtcclxuICBiYWNrZ3JvdW5kOiAjMDBjY2NjO1xyXG4gIGJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjOTdlYWVhLCAjZDVmNmY2KTtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM5N2VhZWEsICNkNWY2ZjYpO1xyXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDA7XHJcbiAgd2lkdGg6IDQwMHB4O1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsIDAsIDAsIDAuMik7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["FormControl","FormGroup","Validators","EvaluationComponent","constructor","evaluationService","router","route","connectionService","toastr","evaluationForm","stars","required","message","idTerrain","ngOnInit","isUserLoggedIn$","subscribe","loggedIn","isLoggedIn","navigate","paramMap","params","get","patchValue","submit","value","evaluate","res","success","redirectUrl","i0","ɵɵdirectiveInject","i1","EvaluationService","i2","Router","ActivatedRoute","i3","ConnectionService","i4","ToastrService","selectors","decls","vars","consts","template","EvaluationComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","EvaluationComponent_Template_form_submit_8_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\Youssef EL-HAMRANI\\Desktop\\Node js\\NEW PFE\\project_pfe-frontend\\frontend\\src\\app\\components\\evaluation\\evaluation.component.ts","C:\\Users\\Youssef EL-HAMRANI\\Desktop\\Node js\\NEW PFE\\project_pfe-frontend\\frontend\\src\\app\\components\\evaluation\\evaluation.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { EvaluationService } from \"src/app/services/evaluation.service\";\nimport { Router } from \"@angular/router\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { ConnectionService } from \"src/app/services/connection.service\";\nimport { ToastrService } from \"ngx-toastr\";\n\n@Component({\n  selector: \"app-evaluation\",\n  templateUrl: \"./evaluation.component.html\",\n  styleUrls: [\"./evaluation.component.css\"],\n})\nexport class EvaluationComponent implements OnInit {\n  evaluationForm: FormGroup;\n  isLoggedIn!: boolean;\n\n  constructor(\n    private evaluationService: EvaluationService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private connectionService: ConnectionService,\n    private toastr: ToastrService\n  ) {\n    this.evaluationForm = new FormGroup({\n      stars: new FormControl(\"\", Validators.required),\n      message: new FormControl(\"\", Validators.required),\n      idTerrain: new FormControl(\"\", Validators.required),\n    });\n  }\n\n  ngOnInit() {\n    this.connectionService.isUserLoggedIn$.subscribe(\n      (loggedIn) => (this.isLoggedIn = loggedIn)\n    );\n\n    if (this.isLoggedIn == false) {\n      this.router.navigate([\"/log\"]);\n    }\n\n    this.route.paramMap.subscribe((params) => {\n      const idTerrain = params.get(\"idTerrain\");\n      this.evaluationForm.patchValue({ idTerrain });\n    });\n  }\n\n  submit() {\n    const value = this.evaluationForm.value;\n    this.evaluationService.evaluate(value).subscribe((res) => {\n      if (res.success) {\n        this.router.navigate([res.redirectUrl]);\n        this.toastr.success(\"Merci d'avoir partagé votre évaluation\", \"Succès\");\n      }\n    });\n  }\n}\n","<app-navbar></app-navbar>\n\n<div class=\"evaluation-container\">\n  <div class=\"evaluation-card\">\n    <div class=\"form-container\">\n      <h2>Evaluer le terrain :</h2>\n      <br /><br />\n      <form [formGroup]=\"evaluationForm\" (submit)=\"submit()\">\n        <div>\n          <label for=\"stars\">Nombre d'étoiles :</label>\n          <select id=\"stars\" name=\"stars\" formControlName=\"stars\">\n            <option value=\"1\">1 étoile</option>\n            <option value=\"2\">2 étoiles</option>\n            <option value=\"3\">3 étoiles</option>\n            <option value=\"4\">4 étoiles</option>\n            <option value=\"5\">5 étoiles</option>\n          </select>\n        </div>\n        <br />\n        <div>\n          <label for=\"message\">Avis :</label>\n          <textarea\n            type=\"text\"\n            id=\"message\"\n            name=\"message\"\n            formControlName=\"message\"\n          ></textarea>\n        </div>\n        <br /><br />\n        <button type=\"submit\">Submit</button>\n      </form>\n    </div>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}